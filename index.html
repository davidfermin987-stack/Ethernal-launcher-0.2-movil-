<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ethernal Client 0.1</title>
  <link rel="icon" href="ðŸ”¥" />
  <script src="https://alcdn.msauth.net/browser/2.37.0/js/msal-browser.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
      user-select: none;
    }

    body {
      background: url('fondo.jpg') no-repeat center center fixed;
      background-size: cover;
      overflow: hidden;
      color: white;
      transition: background 1s ease-in-out;
    }

    .overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(3px);
    }

    .logo {
      width: 250px;
      display: block;
      margin: 30px auto 10px;
      filter: drop-shadow(0 0 20px rgba(255,255,255,0.7));
      transition: opacity 1s ease-in-out;
    }

    .title {
      text-align: center;
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 10px;
      text-shadow: 0 0 8px white;
      transition: opacity 0.8s ease-in-out;
    }

    .container {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      flex-direction: row;
      gap: 40px;
    }

    .sidebar {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 10px;
      position: absolute;
      left: 10px;
      top: 20%;
      gap: 15px;
    }

    .event-icon {
      width: 70px;
      height: 70px;
      border-radius: 15px;
      cursor: pointer;
      opacity: 0.9;
      transition: all 0.3s ease;
    }

    .event-icon:hover, .event-icon.selected {
      border: 2px solid rgba(255,255,255,0.8);
      filter: brightness(1.2);
      box-shadow: 0 0 12px rgba(255,255,255,0.4);
    }

    .main-content {
      text-align: center;
    }

    .play-btn {
      margin-top: 20px;
      padding: 15px 80px;
      background: rgba(0, 40, 80, 0.6);
      border: 2px solid rgba(255,255,255,0.5);
      border-radius: 40px;
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
      backdrop-filter: blur(6px);
      transition: transform 0.2s, background 0.3s;
    }

    .play-btn:hover {
      background: rgba(0, 60, 100, 0.8);
      transform: scale(1.05);
    }

    .user-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      position: absolute;
      bottom: 25px;
      left: 25px;
      cursor: pointer;
      border: 2px solid white;
      transition: 0.3s;
    }

    .user-icon:hover {
      transform: scale(1.05);
    }

    /* ANIMACIÃ“N FADE */
    .fade {
      animation: fadeEffect 1s ease-in-out;
    }

    @keyframes fadeEffect {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* ==== ESTILOS MÃ“VILES ==== */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        justify-content: center;
        gap: 10px;
        padding: 20px;
      }

      .logo {
        width: 180px;
        margin-top: 50px;
      }

      .sidebar {
        flex-direction: row;
        top: auto;
        bottom: 120px;
        left: 50%;
        transform: translateX(-50%);
      }

      .event-icon {
        width: 60px;
        height: 60px;
      }

      .play-btn {
        padding: 12px 60px;
        font-size: 1.1rem;
      }

      .user-icon {
        width: 55px;
        height: 55px;
        bottom: 25px;
        left: 50%;
        transform: translateX(-50%);
      }

      .title {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <img src="logo.png" alt="Ethernal Logo" class="logo" id="mainLogo">
  <h1 class="title" id="titleText">Ethernal Client 0.1</h1>

  <div class="container">
    <div class="sidebar">
      <img src="pesadilla.png" alt="Pesadilla Hardcore" class="event-icon" id="pesadilla">
      <img src="build.png" alt="Build Ethernal Battle" class="event-icon" id="build">
      <img src="infeccion.png" alt="Infeccion Hardcore" class="event-icon" id="infeccion">
    </div>

    <div class="main-content">
      <button class="play-btn" id="playBtn">Jugar</button>
    </div>
  </div>

  <img src="user.png" alt="Usuario" class="user-icon" id="userIcon">

  <script>
    const events = {
      pesadilla: {
        background: "fondo1.jpg",
        logo: "pesadilla.png",
        link: "minecraft://connect/?serverUrl=na81.aternos.me&serverPort=60240"
      },
      build: {
        background: "fondo2.jpg",
        logo: "build.png",
        link: "minecraft://connect/?serverUrl=na81.aternos.me&serverPort=60240"
      },
      infeccion: {
        background: "fondo3.jpg",
        logo: "infeccion.png",
        link: "minecraft://connect/?serverUrl=na81.aternos.me&serverPort=60240"
      }
    };

    const mainLogo = document.getElementById("mainLogo");
    const titleText = document.getElementById("titleText");
    const playBtn = document.getElementById("playBtn");
    const icons = document.querySelectorAll(".event-icon");
    const userIcon = document.getElementById("userIcon");
    let currentEvent = null;

    icons.forEach(icon => {
      icon.addEventListener("click", () => {
        icons.forEach(i => i.classList.remove("selected"));
        icon.classList.add("selected");
        const eventId = icon.id;
        currentEvent = events[eventId];

        document.body.style.background = `url('${currentEvent.background}') no-repeat center center fixed`;
        document.body.style.backgroundSize = "cover";
        document.body.classList.add("fade");

        mainLogo.src = currentEvent.logo;
        mainLogo.classList.add("fade");

        titleText.style.opacity = "0";
        setTimeout(() => {
          document.body.classList.remove("fade");
          mainLogo.classList.remove("fade");
        }, 1000);
      });
    });

    playBtn.addEventListener("click", () => {
      if (!currentEvent) return alert("Selecciona un evento antes de jugar.");
      window.location.href = currentEvent.link;
    });

    // BotÃ³n usuario â†’ iniciar sesiÃ³n Microsoft
    userIcon.addEventListener("click", async () => {
      const msalConfig = {
        auth: {
          clientId: "93b23afb-1aa3-461d-8fed-a82e6874a235",
          redirectUri: "https://davidfermin987-stack.github.io/Ethernal-launcher-0.2.1-PC-/"
        }
      };
      const msalInstance = new msal.PublicClientApplication(msalConfig);
      try {
        const loginResponse = await msalInstance.loginPopup({
          scopes: ["user.read"]
        });
        const account = loginResponse.account;
        const photoUrl = `https://ui-avatars.com/api/?name=${account.name}&background=0D8ABC&color=fff`;
        userIcon.src = photoUrl;
        alert(`Bienvenido ${account.name}`);
      } catch (err) {
        console.error(err);
        alert("Error al iniciar sesiÃ³n.");
      }
    });
  </script>
</body>
</html>
